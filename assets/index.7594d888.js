var N=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var b=(e,s)=>{var c={};for(var r in e)C.call(e,r)&&s.indexOf(r)<0&&(c[r]=e[r]);if(e!=null&&N)for(var r of N(e))s.indexOf(r)<0&&O.call(e,r)&&(c[r]=e[r]);return c};import{j as w,r as i,c as T,Q as I,A as P,C as j,a as R,R as k,b as A}from"./vendor.7c00bb3a.js";const L=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function c(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=c(t);fetch(t.href,n)}};L();const o=w.exports.jsx,x=w.exports.jsxs,M=w.exports.Fragment,y={isOpen:!0,isTopicSet:!1,topicSlug:{topicIdOrSlug:""}},_=[y],E=_,h=i.exports.createContext(E),q=e=>{const[s,c]=i.exports.useState(y);return console.log("NAV",s),o(h.Provider,{value:[s,c],children:e.children})},B={title:"Choose a topic"},F=[],m=i.exports.createContext(F),U=e=>{const[s,c]=i.exports.useState(),[r,t]=i.exports.useState(B);return o(m.Provider,{value:{topics:s,setTopics:c,topic:r,setTopic:t},children:e.children})},f="https://qe9a25jdui.execute-api.eu-west-1.amazonaws.com/test/api",g=e=>T({apiUrl:e,mode:"cors"});g(f);const z=async()=>{const e={page:2},s=g(f).topics.list(e),c=t=>{var n;return console.debug("Request Successfull",t),(n=t.response)==null?void 0:n.results},r=await s;return c(r)},D=async e=>{const s=g(f).topics.get(e),c=t=>(console.debug("Request Successfull",t),t.response),r=await s;return c(r)},Q=async({topicIdOrSlug:e,page:s=1,perPage:c=60})=>await g(f).topics.getPhotos({topicIdOrSlug:e,page:s,perPage:c}),H=e=>{const{title:s,id:c,total_photos:r}=e.data;return x("div",{onClick:()=>e.onClick(event,e.id),className:"p.25 mt-4 flex items-center rounded-md align-middle px-2 py-1 duration-300 cursor-pointer  text-white relative border-l-[1px] border-b-[2px] border-blue-500 hover:bg-blue-600 hover:border-b-[2px] hover:border-blue-500",children:[o("span",{className:"text-lg text-gray-200 font-medium",children:e.title}),o("span",{className:"text-xs bg-gray-200 text-right place-self-center text-blue-800 font-medium rounded-full absolute right-1 py-0 px-2",children:r})]})},K=({onSelectTopic:e})=>{const{topic:s,setTopic:c,topics:r,setTopics:t}=i.exports.useContext(m);return i.exports.useContext(h),i.exports.useEffect(()=>{z().then(n=>{t(n)})},[]),o("div",{className:"bg-blue-900 rounded-2xl h-full w-1/3 ml-14 px-4 py-4",children:r&&r.map(n=>o(H,{data:n,id:n.id,title:n.title,onClick:e},n.id))})},V=({heading:e,icon:s,onClick:c})=>x("div",{className:"px-4 py-2 ml-8 flex flex-row h-full items-center align-middle min-h-[100px]",children:[o("div",{className:"flex-[0_0_52px] mr-12",onClick:c,children:s}),o("h1",{className:"flex-[0 0 100%] text-7xl text-left text-zinc-600 drop-shadow-xl ml-7",children:e})]}),$=r=>{var t=r,{image:e,index:s}=t,c=b(t,["image","index"]);return o("div",{className:"my-3",children:o("img",{src:e,className:"rounded-lg shadow-xl object-cover object-center h-[250px] w-[400px] aspect-video"})})},G=e=>{const[s,c]=i.exports.useState();i.exports.useContext(m);const[r]=i.exports.useContext(h);i.exports.useEffect(()=>{Q(r.topicSlug).then(l=>{var a;return(a=l.response)==null?void 0:a.results}).then(l=>{c(l)})},[]);const t=(l,a)=>o($,{index:l,image:a.urls.thumb},l);let n=[],d=[];const v=l=>l%2;return s&&(console.log(s),s==null||s.map((l,a)=>{if(console.log(l.id,l.description,l.alt_description),d.push(t(a,l)),v(a)&&a!==0){const p=o("div",{className:"flex flex-col flex-wrap flex-grow-0 snap-start",children:d.map(u=>u)});return n.push(p),d=[],p}})),o("div",{className:"flex flex-row flex-nowrap flex-grow-0 flex-shrink-0 space-x-3",children:s&&n.map(l=>l)})},J=()=>{const[e,s]=i.exports.useContext(h),{topic:c,setTopic:r}=i.exports.useContext(m),t=i.exports.useRef(null),n=e.isOpen?"Choose Topic":c?c.title:"",d=e.isOpen?o(I,{className:"headerIcon"}):o(P,{className:"headerIcon"}),v=(u,S)=>{s&&s({isOpen:!1,isTopicSet:!0,topicSlug:{topicIdOrSlug:S}})},l=()=>{s&&s({isOpen:!0,isTopicSet:!1,topicSlug:{topicIdOrSlug:""}}),r({})},a=()=>{t.current&&t.current.scrollBy({top:0,left:-410,behavior:"smooth"})},p=()=>{t.current&&t.current.scrollBy({top:0,left:410,behavior:"smooth"})};return i.exports.useEffect(()=>{e.topicSlug&&e.topicSlug.topicIdOrSlug!==""&&D(e.topicSlug).then(u=>{r(u)})},[e.topicSlug]),o("div",{className:"container max-w-screen-3xl min-h-screen flex bg-neutral-100 scroll-smooth",children:o("div",{className:"flex-1 w-7xl mx-auto p-10",children:x("div",{className:"grid grid-cols-[10%_75%_10%] gap-8",children:[o("div",{className:"col-start-1 col-span-3 row-start-1 row-span-1",children:o(V,{heading:n,icon:d,onClick:l})}),e.isOpen&&o("div",{className:"col-start-1 col-span-3 row-start-2 row-span-2",children:o(K,{onSelectTopic:v})}),!e.isOpen&&x(M,{children:[o("div",{className:"col-start-1 row-start-2 row-span-2",children:o("div",{className:"flex align-middle h-full my-3 mx-9 rounded-full bg-orange-400 hover:bg-orange-500 text-neutral-200 shadow-lg hover:shadow-xl hover:cursor-pointer",onClick:a,children:o(j,{className:" drop-shadow-xl"})})}),o("div",{className:"col-start-2 row-start-2 row-span-2",children:o("div",{className:"flex flex-row flex-wrap overflow-x-hidden  snap-y snap-mandatory",ref:t,children:o(G,{})})}),o("div",{className:"col-start-3 row-start-2 row-span-2",children:o("div",{className:"flex align-middle h-full my-3 mx-9 rounded-full bg-orange-400 hover:bg-orange-500 text-neutral-200 shadow-lg hover:shadow-xl hover:cursor-pointer",onClick:p,children:o(R,{className:" drop-shadow-xl"})})})]})]})})})};function W(){return o(q,{children:o(U,{value:[],children:o(J,{})})})}k.render(o(A.StrictMode,{children:o(W,{})}),document.getElementById("root"));
